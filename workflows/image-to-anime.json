{
  "id": "2e1375d8-726e-4706-bdac-4a108b032a47",
  "revision": 0,
  "last_node_id": 57,
  "last_link_id": 109,
  "nodes": [
    {
      "id": 22,
      "type": "PreviewImage",
      "pos": [
        836.7817993164062,
        1496.742431640625
      ],
      "size": [
        314.1038513183594,
        246
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 70
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 26,
      "type": "ControlNetApplyAdvanced",
      "pos": [
        386.7811279296875,
        1996.7437744140625
      ],
      "size": [
        315,
        186
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 56
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 57
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 55
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 63
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": 94
        },
        {
          "name": "end_percent",
          "type": "FLOAT",
          "widget": {
            "name": "end_percent"
          },
          "link": 74
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            58,
            60
          ]
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "slot_index": 1,
          "links": [
            59,
            61
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "ControlNetApplyAdvanced"
      },
      "widgets_values": [
        0.7000000000000001,
        0,
        0.4500000000000001
      ]
    },
    {
      "id": 24,
      "type": "Reroute",
      "pos": [
        591.97802734375,
        1153.80517578125
      ],
      "size": [
        140.8000030517578,
        26
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 36
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            31
          ]
        }
      ],
      "properties": {
        "showOutputText": true,
        "horizontal": false
      }
    },
    {
      "id": 23,
      "type": "Reroute",
      "pos": [
        587.2996826171875,
        1086.9952392578125
      ],
      "size": [
        140.8000030517578,
        26
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 37
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            30
          ]
        }
      ],
      "properties": {
        "showOutputText": true,
        "horizontal": false
      }
    },
    {
      "id": 12,
      "type": "BNK_Unsampler",
      "pos": [
        2082.999755859375,
        1955.12744140625
      ],
      "size": [
        243.52796936035156,
        238
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 108
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 58
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 59
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 25
        },
        {
          "name": "end_at_step",
          "type": "INT",
          "widget": {
            "name": "end_at_step"
          },
          "link": 15
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            16,
            27
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI_Noise",
        "ver": "0c9ec19b16dc72334cb8ce82c3774aed183048e4",
        "Node name for S&R": "BNK_Unsampler"
      },
      "widgets_values": [
        30,
        8,
        1,
        "dpmpp_2m",
        "karras",
        "disable"
      ]
    },
    {
      "id": 14,
      "type": "RepeatLatentBatch",
      "pos": [
        2333.00048828125,
        1955.12744140625
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 16
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            13
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "RepeatLatentBatch"
      },
      "widgets_values": [
        3
      ]
    },
    {
      "id": 17,
      "type": "VAEDecode",
      "pos": [
        2333.00048828125,
        2055.128173828125
      ],
      "size": [
        210,
        46
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 27
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 96
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            29
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 32,
      "type": "ImagesGridByRows",
      "pos": [
        2582.997802734375,
        2105.128173828125
      ],
      "size": [
        315,
        102
      ],
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 77
        },
        {
          "name": "annotation",
          "shape": 7,
          "type": "GRID_ANNOTATION",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            72
          ]
        }
      ],
      "properties": {
        "cnr_id": "images-grid-comfy-plugin",
        "ver": "852db490ef93702e1c68fe9774bdf65aaa7d3574",
        "Node name for S&R": "ImagesGridByRows"
      },
      "widgets_values": [
        0,
        2
      ]
    },
    {
      "id": 8,
      "type": "VAEDecode",
      "pos": [
        2882.99755859375,
        1505.1256103515625
      ],
      "size": [
        210,
        46
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 23
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 97
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            9,
            78
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 28,
      "type": "PreviewImage",
      "pos": [
        836.7817993164062,
        1996.7437744140625
      ],
      "size": [
        314.1038513183594,
        246
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 64
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 19,
      "type": "Reroute",
      "pos": [
        -213.21853637695312,
        1496.742431640625
      ],
      "size": [
        82,
        26
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 42
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            62,
            68
          ]
        }
      ],
      "properties": {
        "showOutputText": true,
        "horizontal": false
      }
    },
    {
      "id": 39,
      "type": "Get Image Size (JPS)",
      "pos": [
        -613.21826171875,
        1546.742431640625
      ],
      "size": [
        252,
        46
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 80
        }
      ],
      "outputs": [
        {
          "name": "width",
          "type": "INT",
          "slot_index": 0,
          "links": [
            81
          ]
        },
        {
          "name": "height",
          "type": "INT",
          "slot_index": 1,
          "links": [
            82
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI_JPS-Nodes",
        "ver": "0e2a9aca02b17dde91577bfe4b65861df622dcaf",
        "Node name for S&R": "Get Image Size (JPS)"
      },
      "widgets_values": []
    },
    {
      "id": 18,
      "type": "PreviewImage",
      "pos": [
        2333.00048828125,
        2155.128662109375
      ],
      "size": [
        210,
        246
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 29
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 44,
      "type": "Reroute",
      "pos": [
        -612.8170166015625,
        638.6420288085938
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 98
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "VAE",
          "slot_index": 0,
          "links": [
            93,
            94,
            95,
            96,
            97
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 45,
      "type": "VAELoader",
      "pos": [
        -1043.6351318359375,
        655.2965087890625
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 0,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "VAELoader"
      },
      "widgets_values": [
        "xlVAEC_e7.safetensors"
      ]
    },
    {
      "id": 16,
      "type": "VAEEncode",
      "pos": [
        1782.9984130859375,
        2005.12841796875
      ],
      "size": [
        210,
        46
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 24
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 95
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            25
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "VAEEncode"
      },
      "widgets_values": []
    },
    {
      "id": 49,
      "type": "Note",
      "pos": [
        -157.8903350830078,
        542.0924072265625
      ],
      "size": [
        282.08477783203125,
        358.9701232910156
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "The prompt is very important in unsampler workflows. You want to fairly closely describe the image (can be as simple as \"woman, brown jacket, blue pants, kneeling, etc\"). As a prefix, I change the medium when using a generalist model (think a model that can do anime OR photos or paintings or whatever).\n\nWhen going from anime to realistic, I use mediums like \"candid photo\", \"cinematic film still\", \"fashion photography\", etc, and occasionally use \"realistic, detailed\" as well, but it's often not necessary. \n\nWhen going from realistic to anime, I tend to use an anime model, so there's no need to specify \"anime\" because the model will do that by default."
      ],
      "color": "#f6ff7d",
      "bgcolor": "#e2fc69"
    },
    {
      "id": 25,
      "type": "CannyEdgePreprocessor",
      "pos": [
        36.7812614440918,
        1496.742431640625
      ],
      "size": [
        315,
        106
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 68
        },
        {
          "name": "resolution",
          "shape": 7,
          "type": "INT",
          "widget": {
            "name": "resolution"
          },
          "link": 85
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            69,
            70
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui_controlnet_aux",
        "ver": "83463c2e4b04e729268e57f638b4212e0da4badc",
        "Node name for S&R": "CannyEdgePreprocessor"
      },
      "widgets_values": [
        42,
        84,
        1152
      ]
    },
    {
      "id": 43,
      "type": "LoraLoader",
      "pos": [
        -631.6552734375,
        494.0979919433594
      ],
      "size": [
        315,
        126
      ],
      "flags": {},
      "order": 13,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 87
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 90
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            108,
            109
          ]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 1,
          "links": [
            91,
            92
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "LoraLoader"
      },
      "widgets_values": [
        "0000.safetensors",
        1,
        1
      ]
    },
    {
      "id": 38,
      "type": "Largest Int (JPS)",
      "pos": [
        -313.21832275390625,
        1546.742431640625
      ],
      "size": [
        315,
        122
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "int_a",
          "type": "INT",
          "widget": {
            "name": "int_a"
          },
          "link": 81
        },
        {
          "name": "int_b",
          "type": "INT",
          "widget": {
            "name": "int_b"
          },
          "link": 82
        }
      ],
      "outputs": [
        {
          "name": "larger_int",
          "type": "INT",
          "slot_index": 0,
          "links": [
            85,
            86,
            99
          ]
        },
        {
          "name": "smaller_int",
          "type": "INT",
          "slot_index": 1,
          "links": []
        },
        {
          "name": "is_a_larger",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI_JPS-Nodes",
        "ver": "0e2a9aca02b17dde91577bfe4b65861df622dcaf",
        "Node name for S&R": "Largest Int (JPS)"
      },
      "widgets_values": [
        1,
        1
      ]
    },
    {
      "id": 13,
      "type": "PrimitiveNode",
      "pos": [
        2082.999755859375,
        1805.1268310546875
      ],
      "size": [
        210,
        100
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "widget": {
            "name": "start_at_step"
          },
          "slot_index": 0,
          "links": [
            14,
            15
          ]
        }
      ],
      "title": "GEN STEPS",
      "properties": {
        "Run widget replace on values": false
      },
      "widgets_values": [
        8,
        "fixed"
      ]
    },
    {
      "id": 7,
      "type": "CLIPTextEncode",
      "pos": [
        134.3564453125,
        743.0147705078125
      ],
      "size": [
        425.27801513671875,
        180.6060791015625
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 92
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            36
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "closed eyes,"
      ]
    },
    {
      "id": 34,
      "type": "PrimitiveNode",
      "pos": [
        236.7810821533203,
        1796.7425537109375
      ],
      "size": [
        210,
        82
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "widget": {
            "name": "end_percent"
          },
          "slot_index": 0,
          "links": [
            73,
            74
          ]
        }
      ],
      "title": "end_percent",
      "properties": {
        "Run widget replace on values": false
      },
      "widgets_values": [
        0.4500000000000001,
        "fixed"
      ]
    },
    {
      "id": 20,
      "type": "ControlNetApplyAdvanced",
      "pos": [
        386.7811279296875,
        1496.742431640625
      ],
      "size": [
        315,
        186
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 30
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 31
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 32
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 69
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": 93
        },
        {
          "name": "end_percent",
          "type": "FLOAT",
          "widget": {
            "name": "end_percent"
          },
          "link": 73
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            56
          ]
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "slot_index": 1,
          "links": [
            57
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "ControlNetApplyAdvanced"
      },
      "widgets_values": [
        0.5,
        0,
        0.4500000000000001
      ]
    },
    {
      "id": 42,
      "type": "Note",
      "pos": [
        2093.46923828125,
        1416.19873046875
      ],
      "size": [
        452.4114685058594,
        349.6845703125
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "The \"GEN STEPS\" node below controls both the step the unsampler ends at, and the step the ksampler starts at. This setting combines with the CFG setting in the unsampler to introduce variations in the image. \n\nLEAVE UNSAMPLER SETTINGS AS IS. CFG in unsampler should remain at 1.0, only change CFG in ksampler.\n\nThe lower the steps, the more the model can change the underlying image. The higher the cfg, the more the model will move away from the underlying image and align closer to the prompt. \n\nIf you want to plug and play for anime > realistic or vice versa, a good starting point is 8 GEN STEPS and 7 CFG. This is setup with the workflow, but if you want to get a good feel for the technique, drop GEN STEPS and CFG to 1 and slowly change the settings, generating every change.\n\nIf you want realistic > anime, you have more freedom to play with the steps. The higher the step count, the more the colors of the original push through. You can go as high as 16 gen steps and waiNSFWIllustrious will animify it a little. With a lower step count, the anime model will change it much more drastically. 8 GEN STEPS is a good starting point, but obviously play with the settings if you don't get what you want."
      ],
      "color": "#f6ff7d",
      "bgcolor": "#e2fc69"
    },
    {
      "id": 46,
      "type": "Note",
      "pos": [
        -1025.000244140625,
        750.8893432617188
      ],
      "size": [
        282.0126037597656,
        88
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "connect different VAE to route node if needed\n"
      ],
      "color": "#f6ff7d",
      "bgcolor": "#e2fc69"
    },
    {
      "id": 50,
      "type": "DisplayAny",
      "pos": [
        35.74726104736328,
        1648.06494140625
      ],
      "size": [
        318.575439453125,
        100
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "input",
          "type": "*",
          "link": 99
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": null
        }
      ],
      "title": "Preprocessor Resolution",
      "properties": {
        "cnr_id": "comfyui_essentials",
        "ver": "9d9f4bedfc9f0321c19faf71855e228c93bd0dc9",
        "Node name for S&R": "DisplayAny"
      },
      "widgets_values": [
        "raw value",
        "1875"
      ]
    },
    {
      "id": 52,
      "type": "Note",
      "pos": [
        -318.4623107910156,
        1881.0111083984375
      ],
      "size": [
        497.70538330078125,
        88
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "This workflow is set up for SDXL Union. If you want to use an SD1.5 checkpoint, you can, but you need to duplicate the above \"Load Controlnet Model\" and load a canny and depth 1.5 model into their respective \"apply controlnet\" nodes."
      ],
      "color": "#f6ff7d",
      "bgcolor": "#e2fc69"
    },
    {
      "id": 53,
      "type": "Note",
      "pos": [
        786.78173828125,
        1296.742431640625
      ],
      "size": [
        390.2433166503906,
        167.0206298828125
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "                  Pay attention to this preview!!!\n\nYou want the lines to roughly outline your subject and important points of the image. In general, I like to set the the low_threshold and high_threshold on the \"Canny Edge\" node to be a ratio of 1:2. \n\nLower numbers will add more lines, and higher numbers will add less. star t 50/100 and tweak numbers until you get lines that look like a drawing."
      ],
      "color": "#f6ff7d",
      "bgcolor": "#e2fc69"
    },
    {
      "id": 11,
      "type": "KSamplerAdvanced",
      "pos": [
        2582.997802734375,
        1505.1256103515625
      ],
      "size": [
        278.79998779296875,
        542
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 109
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 60
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 61
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 13
        },
        {
          "name": "start_at_step",
          "type": "INT",
          "widget": {
            "name": "start_at_step"
          },
          "link": 14
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            23
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "KSamplerAdvanced"
      },
      "widgets_values": [
        "disable",
        1,
        "fixed",
        30,
        7.03,
        "dpmpp_2m_sde",
        "karras",
        8,
        10000,
        "disable"
      ]
    },
    {
      "id": 4,
      "type": "CheckpointLoaderSimple",
      "pos": [
        -1038.6573486328125,
        501.06585693359375
      ],
      "size": [
        315,
        98
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            87
          ]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 1,
          "links": [
            90
          ]
        },
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 2,
          "links": [
            98
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "waiNSFWIllustrious_v110.safetensors"
      ]
    },
    {
      "id": 21,
      "type": "ControlNetLoader",
      "pos": [
        -351.1808776855469,
        1785.5394287109375
      ],
      "size": [
        533.2871704101562,
        58
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "slot_index": 0,
          "links": [
            32,
            55
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "xinsir-controlnet-union-sdxl-1.0-promax.safetensors"
      ]
    },
    {
      "id": 30,
      "type": "DepthAnythingV2Preprocessor",
      "pos": [
        48.398319244384766,
        2003.2989501953125
      ],
      "size": [
        309.5370178222656,
        89.86604309082031
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 62
        },
        {
          "name": "resolution",
          "shape": 7,
          "type": "INT",
          "widget": {
            "name": "resolution"
          },
          "link": 86
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            63,
            64
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui_controlnet_aux",
        "ver": "83463c2e4b04e729268e57f638b4212e0da4badc",
        "Node name for S&R": "DepthAnythingV2Preprocessor"
      },
      "widgets_values": [
        "depth_anything_v2_vitl.pth",
        1152
      ]
    },
    {
      "id": 15,
      "type": "LoadImage",
      "pos": [
        -963.2206420898438,
        1496.742431640625
      ],
      "size": [
        315,
        314
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            24,
            42,
            79,
            80
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "68685020_1288138464699355_383731310440480768_o.jpg",
        "image"
      ]
    },
    {
      "id": 6,
      "type": "CLIPTextEncode",
      "pos": [
        138.8739013671875,
        529.603759765625
      ],
      "size": [
        422.84503173828125,
        164.31304931640625
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 91
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            37
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "best quality, masterpiece, anime, man, holding microphone, serious"
      ]
    },
    {
      "id": 48,
      "type": "Note",
      "pos": [
        479.5582275390625,
        2312.8544921875
      ],
      "size": [
        583.1395263671875,
        194.35037231445312
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Controlnet is useful in this workflow because the anatomy and structure of a real person and an anime one is unsurprisingly very different. A lot of photographic models will struggle to interpret an anime pose without extra help from the controlnets.\n\nEnd_percent and strength should be kept reasonably low, since we want the underlying shapes and colors to inform the photographic model's detailing steps. If the end_percent is too high, the photographic model won't be able to interpret the controlnet in any other way than anime, and the result will be a worse anime image than you started with. \n\nIf you input anime and end up with anime, you can drop the end_percent to around 0.35, the GEN STEPS can be lowered, the CFG can be raised (KSAMPLER ONLY!), or a combination of all three. \n\nConversely, if the output is too different than the input, raise the end_percent to around 0.5, raise the GEN STEPS, lower the CFG, or a combination of all three."
      ],
      "color": "#f6ff7d",
      "bgcolor": "#e2fc69"
    },
    {
      "id": 47,
      "type": "Note",
      "pos": [
        2585.780029296875,
        2476.107177734375
      ],
      "size": [
        302.1897277832031,
        102.7872543334961
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "GRID SAVE",
      "properties": {},
      "widgets_values": [
        "Install images-grid-comfy-plugin to save grid, otherwise replace with own node cluster, or delete nodes if grid unwanted"
      ],
      "color": "#f6ff7d",
      "bgcolor": "#e2fc69"
    },
    {
      "id": 37,
      "type": "ImageCombine",
      "pos": [
        2647.103515625,
        2348.007568359375
      ],
      "size": [
        210,
        46
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "image_1",
          "type": "IMAGE",
          "link": 79
        },
        {
          "name": "image_2",
          "type": "IMAGE",
          "link": 78
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            77
          ]
        }
      ],
      "properties": {
        "cnr_id": "images-grid-comfy-plugin",
        "ver": "852db490ef93702e1c68fe9774bdf65aaa7d3574",
        "Node name for S&R": "ImageCombine"
      },
      "widgets_values": []
    },
    {
      "id": 9,
      "type": "SaveImage",
      "pos": [
        2937.801025390625,
        1605.70166015625
      ],
      "size": [
        469.80023193359375,
        495.395751953125
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 9
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": [
        "unsampler/img"
      ]
    },
    {
      "id": 33,
      "type": "SaveImage",
      "pos": [
        2934.199462890625,
        2177.23291015625
      ],
      "size": [
        528.6664428710938,
        746.948974609375
      ],
      "flags": {},
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 72
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.29",
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": [
        "unsampler/grid"
      ]
    }
  ],
  "links": [
    [
      9,
      8,
      0,
      9,
      0,
      "IMAGE"
    ],
    [
      13,
      14,
      0,
      11,
      3,
      "LATENT"
    ],
    [
      14,
      13,
      0,
      11,
      4,
      "INT"
    ],
    [
      15,
      13,
      0,
      12,
      4,
      "INT"
    ],
    [
      16,
      12,
      0,
      14,
      0,
      "LATENT"
    ],
    [
      23,
      11,
      0,
      8,
      0,
      "LATENT"
    ],
    [
      24,
      15,
      0,
      16,
      0,
      "IMAGE"
    ],
    [
      25,
      16,
      0,
      12,
      3,
      "LATENT"
    ],
    [
      27,
      12,
      0,
      17,
      0,
      "LATENT"
    ],
    [
      29,
      17,
      0,
      18,
      0,
      "IMAGE"
    ],
    [
      30,
      23,
      0,
      20,
      0,
      "CONDITIONING"
    ],
    [
      31,
      24,
      0,
      20,
      1,
      "CONDITIONING"
    ],
    [
      32,
      21,
      0,
      20,
      2,
      "CONTROL_NET"
    ],
    [
      36,
      7,
      0,
      24,
      0,
      "*"
    ],
    [
      37,
      6,
      0,
      23,
      0,
      "*"
    ],
    [
      42,
      15,
      0,
      19,
      0,
      "*"
    ],
    [
      55,
      21,
      0,
      26,
      2,
      "CONTROL_NET"
    ],
    [
      56,
      20,
      0,
      26,
      0,
      "CONDITIONING"
    ],
    [
      57,
      20,
      1,
      26,
      1,
      "CONDITIONING"
    ],
    [
      58,
      26,
      0,
      12,
      1,
      "CONDITIONING"
    ],
    [
      59,
      26,
      1,
      12,
      2,
      "CONDITIONING"
    ],
    [
      60,
      26,
      0,
      11,
      1,
      "CONDITIONING"
    ],
    [
      61,
      26,
      1,
      11,
      2,
      "CONDITIONING"
    ],
    [
      62,
      19,
      0,
      30,
      0,
      "IMAGE"
    ],
    [
      63,
      30,
      0,
      26,
      3,
      "IMAGE"
    ],
    [
      64,
      30,
      0,
      28,
      0,
      "IMAGE"
    ],
    [
      68,
      19,
      0,
      25,
      0,
      "IMAGE"
    ],
    [
      69,
      25,
      0,
      20,
      3,
      "IMAGE"
    ],
    [
      70,
      25,
      0,
      22,
      0,
      "IMAGE"
    ],
    [
      72,
      32,
      0,
      33,
      0,
      "IMAGE"
    ],
    [
      73,
      34,
      0,
      20,
      5,
      "FLOAT"
    ],
    [
      74,
      34,
      0,
      26,
      5,
      "FLOAT"
    ],
    [
      77,
      37,
      0,
      32,
      0,
      "IMAGE"
    ],
    [
      78,
      8,
      0,
      37,
      1,
      "IMAGE"
    ],
    [
      79,
      15,
      0,
      37,
      0,
      "IMAGE"
    ],
    [
      80,
      15,
      0,
      39,
      0,
      "IMAGE"
    ],
    [
      81,
      39,
      0,
      38,
      0,
      "INT"
    ],
    [
      82,
      39,
      1,
      38,
      1,
      "INT"
    ],
    [
      85,
      38,
      0,
      25,
      1,
      "INT"
    ],
    [
      86,
      38,
      0,
      30,
      1,
      "INT"
    ],
    [
      87,
      4,
      0,
      43,
      0,
      "MODEL"
    ],
    [
      90,
      4,
      1,
      43,
      1,
      "CLIP"
    ],
    [
      91,
      43,
      1,
      6,
      0,
      "CLIP"
    ],
    [
      92,
      43,
      1,
      7,
      0,
      "CLIP"
    ],
    [
      93,
      44,
      0,
      20,
      4,
      "VAE"
    ],
    [
      94,
      44,
      0,
      26,
      4,
      "VAE"
    ],
    [
      95,
      44,
      0,
      16,
      1,
      "VAE"
    ],
    [
      96,
      44,
      0,
      17,
      1,
      "VAE"
    ],
    [
      97,
      44,
      0,
      8,
      1,
      "VAE"
    ],
    [
      98,
      4,
      2,
      44,
      0,
      "*"
    ],
    [
      99,
      38,
      0,
      50,
      0,
      "*"
    ],
    [
      108,
      43,
      0,
      12,
      0,
      "MODEL"
    ],
    [
      109,
      43,
      0,
      11,
      0,
      "MODEL"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "LOAD MODELS",
      "bounding": [
        -1077.134521484375,
        332.0640563964844,
        785.6279296875,
        497.04071044921875
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 2,
      "title": "CONTROLNETS",
      "bounding": [
        -1100.2342529296875,
        1196.59716796875,
        2483.181396484375,
        1124.8485107421875
      ],
      "color": "#8AA",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "PROMPT",
      "bounding": [
        -270.0419006347656,
        333.1862487792969,
        956.0948486328125,
        747.7139282226562
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Group",
      "bounding": [
        -15.336523056030273,
        591.7617797851562,
        140,
        80
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 4,
      "title": "Group",
      "bounding": [
        -43.817256927490234,
        513.6039428710938,
        140,
        80
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 6,
      "title": "SAMPLE",
      "bounding": [
        1736.7464599609375,
        1206.339599609375,
        2040.8887939453125,
        1763.6444091796875
      ],
      "color": "#8A8",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.9229599817706645,
      "offset": [
        -2280.704430039706,
        -1594.9706177218277
      ]
    },
    "ue_links": [],
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "frontendVersion": "1.16.9",
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}